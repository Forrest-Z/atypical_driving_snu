<!-- 
    test_with_virtual_environment.launch
-->

<launch>
<!-- Arguments Start -->
  <arg name="map"            default="auto_drive.bt"/> 
<!-- Arguments End -->

<!-- Nodes Start -->
  <node pkg="octomap_server" type="octomap_server_node" name="octomap_server" args="$(find atypical_driving)/worlds/$(arg map)">
    <param name="resolution"                 value="0.1" />
    <param name="frame_id"                   value="map" type="string"/>
    <param name="sensor_model/max_range"     value="-1" />
    <param name="height_map"                 value="false"/>
    <param name="color/r"                    value="0.2" />
    <param name="color/g"                    value="0.2" />
    <param name="color/b"                    value="0.2" />
    <param name="color/a"                    value="0.2" />

    <remap from="octomap_full" to="/atypical_planning_test/global_map"/>
  </node>

  <node pkg="atypical_driving" type="atypical_driving_test" name="atypical_planning_test" output="screen">

  </node>

  <node pkg="atypical_driving" type="virtual_environment_generator" name="virtual_environment_generator" output="screen"/>

  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find atypical_driving)/launch/rviz_config/config.rviz"/>
  
<!-- Nodes End -->
</launch>
